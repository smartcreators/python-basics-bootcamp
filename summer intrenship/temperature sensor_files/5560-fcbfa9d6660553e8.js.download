(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5560],{21942:(e,t,n)=>{"use strict";n.d(t,{P:()=>d});var i=n(95155),r=n(6874),o=n.n(r),s=n(23034),l=n(58116),a=n(43048),c=n.n(a);function d(e){let{children:t}=e;return(0,i.jsx)("header",{children:(0,i.jsxs)("div",{className:c().toolbar,role:"banner",children:[(0,i.jsx)(o(),{href:"/",className:c().logo,children:(0,i.jsx)(l.v,{width:80,height:24})}),t,(0,i.jsx)("div",{className:c().spacer}),(0,i.jsx)("nav",{className:c().menu,children:(0,i.jsx)("a",{href:"https://docs.wokwi.com/?utm_source=wokwi",target:"_blank",children:"Docs"})}),(0,i.jsx)(s.B,{size:"small"})]})})}},34239:e=>{e.exports={tabs:"tabs_tabs__0p32m",tab:"tabs_tab__iUAy8",active:"tabs_active__IguNq",modified:"tabs_modified__0O7Qp",errors:"tabs_errors__scWEl",readonly:"tabs_readonly__r2uqP",dropdown:"tabs_dropdown__6PGPX"}},35946:e=>{e.exports={wrapper:"code-editor_wrapper__S_Mle",sourceCodePreview:"code-editor_sourceCodePreview__6fM3n",dark:"code-editor_dark__ZkoUs",editorContainer:"code-editor_editorContainer__hSbk1",disableAutocomplete:"code-editor_disableAutocomplete__iknrz"}},43048:e=>{e.exports={toolbar:"header-small_toolbar__yvrzx",logo:"header-small_logo__fLyJP",menu:"header-small_menu__hiyiT",spacer:"header-small_spacer___h_xx"}},44481:e=>{e.exports={breakpoint:"editor-breakpoints_breakpoint__o0tVD",stackframe:"editor-breakpoints_stackframe__L8b4K",hint:"editor-breakpoints_hint__Fjmtl",stackframeLine:"editor-breakpoints_stackframeLine__gaz3o"}},49414:e=>{e.exports={serialMonitor:"serial-monitor_serialMonitor__QobyT",monitorContainer:"serial-monitor_monitorContainer__L2dnu",plotterContainer:"serial-monitor_plotterContainer__ZUti8",serialControls:"serial-monitor_serialControls__ZApdN",active:"serial-monitor_active__rGHsx"}},49876:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var i=n(12115);function r(e,t){(0,i.useEffect)((()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t))),[e,t])}},51292:(e,t,n)=>{"use strict";n.d(t,{B:()=>ee,p:()=>$});var i=n(95155),r=n(91364),o=n(67676),s=n(29543),l=n(63438),a=n(12115),c=n(71236),d=n(88176),u=n(49876);var h=n(55256),p=n(36207),m=n(59935),x=n(35946),g=n.n(x),f=n(86447),j=n(44481),v=n.n(j);class w{attachToModel(e,t){this.debuggers.set(e,t);const n=(0,s.fm)((()=>{this.updateBreakpointDecorations(e,t)}));e.onDidChangeAttached((()=>{e.isAttachedToEditor()&&setTimeout((()=>this.updateBreakpointDecorations(e,t)),0)})),e.onWillDispose(n)}supportsBreakpoints(e){return e.endsWith(".ino")||e.endsWith(".h")||e.endsWith(".c")||e.endsWith(".cpp")||e.endsWith(".rs")}lineRange(e,t){const n=e.getLineFirstNonWhitespaceColumn(t);return e.validateRange(new this.monacoGlobal.Range(t,n,t,n+1))}updateBreakpointDecorations(e,t){const{OverviewRulerLane:n}=this.monacoGlobal.editor;var i;const r=null!==(i=this.modelDecorations.get(e))&&void 0!==i?i:[],{activeLine:s}=t,l=t.breakpoints.map((t=>{const i=s===t.lineNumber;return{range:this.lineRange(e,t.lineNumber),options:{description:"breakpoint-decoration",isWholeLine:!0,glyphMarginClassName:i?(0,o.default)("codicon-debug-stackframe",v().stackframe):(0,o.default)("codicon-debug-breakpoint",v().breakpoint),glyphMarginHoverMessage:{value:"Breakpoint"},overviewRuler:{color:"#6a5aff",position:n.Left}}}}));s&&l.push({range:this.lineRange(e,s),options:{description:"debugger-frame-decoration",isWholeLine:!0,className:v().stackframeLine}}),this.modelDecorations.set(e,this.editor.deltaDecorations(r,l))}setBreakpointHintDecoration(e){const{TrackedRangeStickiness:t}=this.monacoGlobal.editor;this.currentHintDecoration=this.editor.deltaDecorations(this.currentHintDecoration,e?[{range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},options:{glyphMarginClassName:(0,o.default)("codicon-debug-hint",v().hint),stickiness:t.NeverGrowsWhenTypingAtEdges}}]:[])}constructor(e,t){(0,f._)(this,"monacoGlobal",void 0),(0,f._)(this,"editor",void 0),(0,f._)(this,"currentHintDecoration",void 0),(0,f._)(this,"debuggers",void 0),(0,f._)(this,"modelDecorations",void 0),this.monacoGlobal=e,this.editor=t,this.currentHintDecoration=[],this.debuggers=new WeakMap,this.modelDecorations=new WeakMap,t.onMouseMove((n=>{let i=null;const r=t.getModel(),{MouseTargetType:o}=e.editor;if(r&&this.debuggers.get(r)&&n.target.position&&(n.target.type===o.GUTTER_GLYPH_MARGIN||n.target.type===o.GUTTER_LINE_NUMBERS)){n.target.detail.isAfterLines||(i=n.target.position.lineNumber)}this.setBreakpointHintDecoration(i)})),t.onMouseLeave((()=>{this.setBreakpointHintDecoration(null)})),t.onMouseDown((n=>{const{MouseTargetType:i}=e.editor,r=t.getModel(),o=r?this.debuggers.get(r):null;if(!n.target.position||!o||n.target.type!==i.GUTTER_GLYPH_MARGIN||n.target.detail.isAfterLines)return;const{lineNumber:s}=n.target.position;o.breakpoints.find((e=>e.lineNumber===s))?o.removeBreakpoint(s):o.setBreakpoint(s)}))}}var y=n(97469),b=n(1384),A=n(71023),k=n(15843),C=n(60435),S=n(86485),_=n(19494),D=n(66587),M=n(50095),T=n(55592),E=n(34152),P=n(60025),N=n(58071),W=n(46856),z=n(66292),F=n(62861),B=n(78679),I=n(12422),O=n(62966),R=n(73831);function G(e){let{open:t,validateName:n,onClose:r,onSubmit:o}=e;const[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),u=()=>{c||(s&&o(s),r())};return(0,i.jsx)(F.A,{open:t,onClose:r,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:(0,i.jsxs)("form",{onSubmit:e=>{u(),e.preventDefault()},children:[(0,i.jsx)(O.A,{id:"form-dialog-title",children:"Create a new file"}),(0,i.jsx)(I.A,{sx:{minHeight:"96px"},children:(0,i.jsx)(R.A,{autoFocus:!0,margin:"dense",label:"New file name",fullWidth:!0,value:s,onChange:e=>{const{value:t}=e.target;l(t),d(t?n(t):null)},error:null!=c,helperText:c})}),(0,i.jsxs)(B.A,{children:[(0,i.jsx)(z.A,{onClick:r,children:"Cancel"}),(0,i.jsx)(z.A,{onClick:u,color:"primary",variant:"contained",disabled:null!=c,children:"Create"})]})]})})}function L(e){let{open:t,originalName:n,validateName:r,onClose:o,onRename:s}=e;const[l,c]=(0,a.useState)(n),[d,u]=(0,a.useState)(null);(0,a.useEffect)((()=>{c(n)}),[n]);const h=()=>{d||(l!==n&&s(l),o())};return(0,i.jsx)(F.A,{open:t,onClose:o,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"xs",children:(0,i.jsxs)("form",{onSubmit:e=>{h(),e.preventDefault()},children:[(0,i.jsxs)(O.A,{id:"form-dialog-title",children:['Rename "',n,'"']}),(0,i.jsx)(I.A,{sx:{minHeight:"96px"},children:(0,i.jsx)(R.A,{autoFocus:!0,margin:"dense",label:"New file name",fullWidth:!0,value:l,onChange:e=>{const{value:t}=e.target;c(t),u(t===n?null:r(t))},error:null!=d,helperText:d})}),(0,i.jsxs)(B.A,{children:[(0,i.jsx)(z.A,{onClick:o,children:"Cancel"}),(0,i.jsx)(z.A,{onClick:h,color:"primary",variant:"contained",disabled:null!=d,children:"Rename"})]})]})})}const H=["ino","txt","h","hh","hpp","c","csv","cpp","md","json","S","py","rs","ts","bas","v"],U=["ino","h","hh","hpp","c","cpp"];function K(e){const t=e.split(".");return U.includes(t[t.length-1])}function V(e){let{activeFile:t,open:n,anchorEl:r,onClose:o,onFileCreated:s}=e;const l=(0,W.B)(),c=(0,a.useContext)($),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),{translate:j}=(0,P.W)("editor.fileMenu");function v(e){for(const t of'/<>:"\\|?*')if(e.includes(t))return j("error.invalidFileName","Invalid filename: character {{char}} is not allowed.",{char:t});return e.includes(".")&&function(e){const t=e.split(".");return H.includes(t[t.length-1])}(e)||"Cargo.toml"===e?l.files.some((t=>t.name===e))?j("error.fileExists","A file with this name already exists"):null:j("error.invalidFileType","Invalid file type. Supported file types: {{types}}",{types:H.join(", ")})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.A,{open:m,autoHideDuration:6e3,onClose:()=>{x(!1)},children:(0,i.jsx)(_.A,{severity:"success",children:g})}),(0,i.jsxs)(D.A,{open:n,onClose:o,onClick:o,anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[t&&K(t)&&(0,i.jsxs)(M.A,{onClick:async()=>{var e;const t=await(null===(e=c.formatCode)||void 0===e?void 0:e.call(c));x(!0),f(t?j("formatSuccessful","Code formatted successfully"):j("formatAlready","Code already formatted"))},children:[(0,i.jsx)(T.A,{children:(0,i.jsx)(y.A,{})}),(0,i.jsx)(E.A,{primary:j("formatCode","Format code")})]}),t&&(0,i.jsxs)(M.A,{onClick:()=>{p(!0)},children:[(0,i.jsx)(T.A,{children:(0,i.jsx)(b.A,{fontSize:"small"})}),(0,i.jsx)(E.A,{children:j("rename","Rename")})]}),t&&(0,i.jsxs)(M.A,{onClick:()=>{confirm(j("confirmDelete","This will remove {{filename}}. Should I go ahead?",{filename:null!=t?t:""}))&&t&&l.removeFile(t)},children:[(0,i.jsx)(T.A,{children:(0,i.jsx)(A.A,{fontSize:"small"})}),(0,i.jsx)(E.A,{children:j("delete","Delete")})]}),(0,i.jsxs)(M.A,{onClick:()=>{u(!0)},children:[(0,i.jsx)(T.A,{children:(0,i.jsx)(k.A,{fontSize:"small"})}),(0,i.jsx)(E.A,{children:j("newFile","New file...")})]}),(0,i.jsxs)(M.A,{onClick:async()=>{const{files:e}=await(0,N.Km)({multiple:!0,accept:H.map((e=>".".concat(e)))}),t=[];for(const n of e){const e=v(n.name);null===e?l.addFile(n.name,(new TextDecoder).decode(await n.arrayBuffer())):t.push("".concat(n.name,": ").concat(e))}t.length&&alert(j("error.uploadFailed","Some files could not be uploaded")+"\n\n"+t.join("\n"))},children:[(0,i.jsx)(T.A,{children:(0,i.jsx)(C.A,{fontSize:"small"})}),(0,i.jsx)(E.A,{children:j("uploadFile","Upload file(s)...")})]})]}),(0,i.jsx)(G,{open:d,validateName:v,onClose:()=>u(!1),onSubmit:e=>{l.addFile(e),null==s||s(e)}}),(0,i.jsx)(L,{open:h,originalName:null!=t?t:"",validateName:v,onClose:()=>p(!1),onRename:e=>{t&&l.renameFile(t,e)}})]})}const q=JSON.parse('{"$schema":"http://json-schema.org/schema#","type":"object","required":["version","author","editor","parts","connections"],"properties":{"version":{"enum":[1]},"author":{"type":"string","title":"Author name"},"editor":{"type":"string","title":"Software used to create this file","default":"wokwi","examples":["wokwi"]},"pacman":{"type":"boolean"},"parts":{"type":"array","title":"List of parts","items":{"required":["id","type"],"properties":{"id":{"type":"string"},"type":{"enum":["board-ssd1306","wokwi-74hc165","wokwi-74hc595","wokwi-analog-joystick","wokwi-arduino-nano","wokwi-arduino-mega","wokwi-arduino-uno","wokwi-attiny85","wokwi-buzzer","wokwi-il9163","wokwi-ili9341","wokwi-dht11","wokwi-dht12","wokwi-dht22","wokwi-ds1307","wokwi-franzininho","wokwi-hc-sr04","wokwi-ir-receiver","wokwi-ky-040","wokwi-lcd1602","wokwi-lcd2004","wokwi-led","wokwi-led-bar-graph","wokwi-led-ring","wokwi-logic-analyzer","wokwi-max7219-matrix","wokwi-membrane-keypad","wokwi-microsd-card","wokwi-mpu6050","wokwi-neopixel","wokwi-neopixel-matrix","wokwi-neopixel-meter","wokwi-neopixel-canvas","wokwi-ntc-temperature-sensor","wokwi-servo","wokwi-tv","wokwi-photoresistor-sensor","wokwi-pi-pico","wokwi-pir-motion-sensor","wokwi-potentiometer","wokwi-pushbutton","wokwi-pushbutton-6mm","wokwi-rgb-led","wokwi-resistor","wokwi-7segment","wokwi-splendida","wokwi-slide-potentiometer","wokwi-slide-switch","wokwi-ssd1306"]},"left":{"type":"number"},"top":{"type":"number"},"rotate":{"type":"number"},"attrs":{"type":"object","additionalProperties":{"type":"string"}},"hide":{"type":"boolean","default":false}},"additionalProperties":false}},"connections":{"type":"array","title":"List of part connections","items":{"type":"array","minItems":3,"maxItems":4,"items":[{"type":"string","title":"From pin","pattern":"^.+:.+$"},{"type":"string","title":"To pin","pattern":"^.+:.+$"},{"type":"string","title":"Wire color","format":"color","examples":["black","red","green"]},{"type":"array","items":{"pattern":"^[vh]-?[0-9]+|\\\\*$","type":"string"}}],"additionalItems":false}},"serialMonitor":{"type":"object","properties":{"display":{"type":"string","enum":["always","never","auto","plotter","terminal"],"default":"auto"},"newline":{"type":"string","enum":["none","lf","cr","crlf"]}}}}}');var J=n(16548);let Z;function Y(){return Z||(Z=(async()=>{if(!J.K){const e=document.createElement("link");e.dataset.info="nextjs-head-issue-workaround",document.head.appendChild(e)}r.wG.config({paths:{vs:"https://wokwi.com/cdn/monaco-editor/0.48.0/vs"}});const e=await r.wG.init(),{registerArduinoLanguage:t,registerAVRAssemblyLanguage:i,registerAVRListingLanguage:o}=await Promise.all([n.e(8160),n.e(72)]).then(n.bind(n,30072));return t(e),i(e),o(e),function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:[{uri:"https://wokwi.com/schemas/diagram-v1.json",fileMatch:["diagram.json"],schema:q}]})}(e),e})()),Z}const $=(0,a.createContext)({ready:!1,commands:{}});function X(e,t){const{name:n,content:i}=e,r=n.toLowerCase();return n.endsWith(".chip.c")?"cpp":(0,h.c8)(n)?"arduino":r.endsWith(".json")?"json":r.endsWith(".md")?"markdown":t&&n.endsWith(".S")?"".concat(t,"-assembly"):n.endsWith(".py")?"python":n.endsWith(".rs")?"rust":n.endsWith(".bas")?"basic":n.endsWith(".js")?"javascript":n.endsWith(".ts")?"typescript":n.endsWith(".v")?"verilog":n.endsWith(".toml")?"ini":n===p.wK?i.includes("file format elf32-littlearm")?"arduino-listing-arm":"arduino-listing":"text"}function Q(e,t){const n=(0,h.c8)(e)||e===p.wK?"arduino":"vs";return t?"".concat(n,"-dark"):n}const ee=(0,l.PA)((e=>{let{tabs:t,architecture:n}=e;const[l,h]=(0,a.useState)(t[0]),x=!t.includes(l),f=x?t[0]:l,j=(0,a.useRef)(f),[v,y]=(0,a.useState)(null),[b,A]=(0,a.useState)(null),[k,C]=(0,a.useState)(null),S=(0,a.useRef)(k),_=(0,a.useRef)(null),D=(0,a.useContext)($),[M,T]=(0,a.useState)(!1),E=(0,a.useRef)(null),P=(0,a.useRef)(null),[N,W]=(0,a.useState)(!1),z=(0,d.W)(),F="1"===(0,c.t)("wokwi-no-autocomplete"),B=(0,a.useRef)(!1),I=(0,a.useCallback)((()=>{const e=E.current;e&&(e.style.overflow="hidden",null==k||k.layout(),e.style.overflow="")}),[k]);D.doLayout=I,(0,u.q)("resize",I),D.goToError=()=>{var e;if(!(null===(e=f.errors)||void 0===e?void 0:e.length))for(const e of t){var n;if(null===(n=e.errors)||void 0===n?void 0:n.length)return void h(e)}},D.switchToTab=e=>{const n=t.find((t=>t.name===e));n&&h(n)},(0,a.useEffect)((()=>(0,s.fm)((()=>{for(const n of t){var e;if(null===(e=n.debugger)||void 0===e?void 0:e.activeLine)return void h(n)}}))),[t]),D.formatCode=async()=>{var e;const t=null==k?void 0:k.getValue();await(null==k||null===(e=k.getAction("editor.action.formatDocument"))||void 0===e?void 0:e.run());return t!==(null==k?void 0:k.getValue())},(0,a.useEffect)((()=>{x&&h(t[0])}),[x,t]);const O=(0,a.useCallback)((e=>{var t;const i=b.Uri.parse("vfs:"+e.name);var r;const o=null!==(r=b.editor.getModel(i))&&void 0!==r?r:b.editor.createModel(e.content,X(e,n),i),l="python"===X(e,n);o.updateOptions({tabSize:l?4:2,indentSize:l?4:2}),o.getValue()!==e.content&&o.setValue(e.content),o.onDidChangeContent((()=>{var t;return null===(t=e.update)||void 0===t?void 0:t.call(e,o.getValue())}));const a=(0,s.fm)((()=>{var t;const n=S.current,i=(null==n?void 0:n.getModel())===o;b.editor.setModelMarkers(o,"Arduino",function(e,t){const n=t=>{switch(t){case"error":return e.MarkerSeverity.Error;case"warning":return e.MarkerSeverity.Warning;case"note":return e.MarkerSeverity.Hint}return e.MarkerSeverity.Error};return t.map((e=>{let{type:t,...i}=e;return{severity:n(t),...i}}))}(b,e.errors||[]));const r=null===(t=e.errors)||void 0===t?void 0:t.filter((e=>"note"!==e.type));i&&(null==r?void 0:r.length)&&setTimeout((()=>{var e;null==n||n.trigger(null,"closeMarkersNavigation",[]),null==n||null===(e=n.getAction("editor.action.marker.next"))||void 0===e||e.run(),null==n||n.trigger(null,"closeMarkersNavigation",[])}),0)}));o.onWillDispose(a);const c=e.debugger;var d;c&&(null==_||null===(t=_.current)||void 0===t?void 0:t.supportsBreakpoints(e.name))&&(null===(d=_.current)||void 0===d||d.attachToModel(o,c));return o}),[b,n]);return(0,a.useEffect)((()=>{Y().then(A)}),[]),(0,a.useEffect)((()=>{const e=j.current;if(j.current=f,k&&b){var n,i;if(e&&t.includes(e))null===(i=e.setEditorState)||void 0===i||i.call(e,{model:k.getModel(),viewState:k.saveViewState()});const r=f.editorState;if(null==r?void 0:r.model){k.setModel(r.model);const e=k.getValue(),t=f.content;e!==t&&k.setValue(t),r.model=null}else k.setModel(O(f));(null==r?void 0:r.viewState)&&k.restoreViewState(r.viewState),k.updateOptions({tabSize:f.name.endsWith(".py")?4:2,readOnly:f.readonly||f.name===p.wK}),(null===(n=f.debugger)||void 0===n?void 0:n.activeLine)&&k.revealLineInCenter(f.debugger.activeLine),B.current||D.embedMode&&!document.hasFocus()||(setTimeout((()=>k.focus()),0),B.current=!0)}}),[k,f,O,b,t,D.embedMode]),(0,a.useEffect)((()=>(0,s.fm)((()=>{if(!k)return;const e=k.getModel();e&&f.content!==e.getValue()&&(k.pushUndoStop(),k.executeEdits("",[{range:e.getFullModelRange(),text:f.content}]),k.pushUndoStop())}))),[f,k]),(0,a.useEffect)((()=>{if(null!=v){const e=t.find((e=>e.name===v));e&&(null==k||k.focus(),h(e)),y(null)}}),[k,v,t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.tU,{children:[t.map((e=>{var t;return(0,i.jsx)(m.oz,{onMouseDown:e=>e.preventDefault(),onClick:()=>h(e),active:e===f,readonly:e.readonly,modified:e.modified,errors:null===(t=e.errors)||void 0===t?void 0:t.some((e=>"error"===e.type)),children:e.name},e.name)})),(0,i.jsx)(m.x9,{onClick:()=>T(!M),active:M,ref:P})]}),N&&(0,i.jsxs)("div",{children:["Characters: ",f.content.length]}),(0,i.jsx)(V,{activeFile:f.name,open:M,onClose:()=>T(!1),onFileCreated:e=>{y(e)},anchorEl:P.current}),f.customComponent,(0,i.jsxs)("div",{className:(0,o.default)(g().editorContainer,{[g().disableAutocomplete]:F,dark:z.dark}),style:{display:f.customComponent?"none":""},ref:E,children:[!b&&(0,i.jsx)("pre",{className:(0,o.default)(g().sourceCodePreview,z.dark&&g().sourceCodePreviewDark),children:(0,i.jsx)("code",{children:f.content})}),b&&(0,i.jsx)(r.Ay,{onMount:e=>{if(C(e),S.current=e,e.updateOptions({tabSize:2}),b){var t;_.current=new w(b,e),D.ready=!0,null===(t=D.onEditorReady)||void 0===t||t.call(D),D.onRunCode&&e.addAction({id:"run-program",label:"Compile & Run Program",keybindings:[b.KeyMod.CtrlCmd|b.KeyCode.Enter,b.KeyMod.CtrlCmd|b.KeyCode.KeyU,b.KeyMod.CtrlCmd|b.KeyCode.KeyR],run:()=>{var e;return null===(e=D.onRunCode)||void 0===e?void 0:e.call(D)}}),D.onSaveCode&&e.addAction({id:"save",label:"Save",keybindings:[b.KeyMod.CtrlCmd|b.KeyCode.KeyS],run:()=>{var e;return null===(e=D.onSaveCode)||void 0===e?void 0:e.call(D)}});for(const t of Object.keys(D.commands)){const{name:n,keybindings:i}=D.commands[t];e.addAction({id:t,label:n,keybindings:null==i?void 0:i({KeyMod:b.KeyMod,KeyCode:b.KeyCode}),run:()=>D.commands[t].callback()})}e.addAction({id:"character-counter",label:"Character Counter",run:()=>W((e=>!e))}),e.addAction({id:"select-all",label:"Select All",keybindings:[b.KeyMod.CtrlCmd|b.KeyCode.KeyA],contextMenuGroupId:"9_cutcopypaste",contextMenuOrder:5,run:e=>{var t;const n=null===(t=e.getModel())||void 0===t?void 0:t.getFullModelRange();n&&e.setSelection(n)}}),e.setModel(O(f))}},wrapperProps:{className:g().wrapper},theme:Q(f.name,z.dark),options:{glyphMargin:!0,scrollBeyondLastLine:!D.embedMode,fontSize:z.font,minimap:{enabled:!1}}})]})]})}))},54554:e=>{e.exports={container:"simulation_container___BvyD",darkMode:"simulation_darkMode__Bnd9o",fullscreen:"simulation_fullscreen__V9ZtP",simulationControls:"simulation_simulationControls__Jqtsp",timeText:"simulation_timeText__tR870",speedText:"simulation_speedText__ecbqm",simulationStatus:"simulation_simulationStatus__lDBTR",ercBox:"simulation_ercBox__mVDuI"}},54992:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var i=n(95155),r=n(16150),o=n(14144),s=n(9670);function l(e){var t;const n=Math.round(null!==(t=e.value)&&void 0!==t?t:0);return(0,i.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(r.A,{sx:{width:"100%",mr:1},children:(0,i.jsx)(o.A,{variant:"determinate",...e})}),(0,i.jsx)(r.A,{sx:{minWidth:35},children:(0,i.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"".concat(n,"%")})})]})}},59935:(e,t,n)=>{"use strict";n.d(t,{oz:()=>h,tU:()=>p,x9:()=>u});var i=n(95155),r=n(5036),o=n(1773),s=n.n(o),l=n(67676),a=n(12115),c=n(34239),d=n.n(c);const u=(0,a.forwardRef)(((e,t)=>{let{active:n,...o}=e;return(0,i.jsx)("button",{...o,className:(0,l.default)(d().dropdown,n&&d().active),ref:t,children:(0,i.jsx)(s(),{path:r._Sc,size:"20px"})})}));function h(e){let{children:t,active:n,modified:r,errors:o,readonly:s,...a}=e;return(0,i.jsx)("button",{...a,className:(0,l.default)(d().tab,{[d().active]:n,[d().modified]:r,[d().errors]:o,[d().readonly]:s}),children:t})}function p(e){let{children:t}=e;return(0,i.jsx)("div",{className:d().tabs,children:t})}u.displayName="DropdownTab"},63610:e=>{e.exports={tooltip:"serial-plotter_tooltip__jgHD5"}},68198:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(12115);function r(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=new EventSource("https://wokwi.com/api/hexi/monitor");return e.onmessage=e=>{try{const n=JSON.parse(e.data);t(n)}catch(e){console.error("Error parsing SSE data:",e)}},e.onerror=t=>{console.error("SSE connection error:",t),e.close()},()=>{e.close()}}),[]),e}},72117:(e,t,n)=>{"use strict";n.d(t,{g:()=>en});var i=n(95155),r=n(41597),o=n(5036),s=n(1773),l=n.n(s),a=n(13327),c=n(49471),d=n(1384),u=n(15843),h=n(79212),p=n(38870),m=n(57706),x=n(16150),g=n(78822),f=n(55965),j=n(5056),v=n(82167),w=n(3788),y=n(20399),b=n(46812),A=n(67676),k=n(63438),C=n(55028),S=n(12115),_=n(33667),D=n(60025),M=n(88176),T=n(1611),E=n(76470),P=n(55256),N=n(40053),W=n(51292),z=n(21030),F=n(77498),B=n(47298),I=n(67384),O=n(76898),R=n(83124),G=n(66292),L=n(62861),H=n(78679),U=n(12422),K=n(62966),V=n(73831);const q={c:'// Wokwi Custom Chip - For docs and examples see:\n// https://docs.wokwi.com/chips-api/getting-started\n//\n// SPDX-License-Identifier: MIT\n// Copyright 2023 Author Name\n\n#include "wokwi-api.h"\n#include <stdio.h>\n#include <stdlib.h>\n\ntypedef struct {\n  // TODO: Put your chip variables here\n} chip_state_t;\n\nvoid chip_init() {\n  chip_state_t *chip = malloc(sizeof(chip_state_t));\n\n  // TODO: Initialize the chip, set up IO pins, create timers, etc.\n\n  printf("Hello from custom chip!\\n");\n}\n',rust:'// Wokwi Custom Chip - For docs and examples see:\n// https://docs.wokwi.com/chips-api/getting-started\n//\n// SPDX-License-Identifier: MIT\n// Copyright 2023 Author Name\n\nuse std::ffi::{CString};\n\nuse wokwi_chip_ll::{\n    debugPrint, pinInit, pinWatch, pinWrite, INPUT, OUTPUT, HIGH, LOW,\n};\n\nstruct Chip {\n    // Store your chip state here\n}\n\n// chipInit() will be called once per chip instance. We use CHIP_VEC to keep track of all the instance.\nstatic mut CHIP_VEC: Vec<Chip> = Vec::new();\n\n#[no_mangle]\npub unsafe extern "C" fn chipInit() {\n    let chip = Chip {\n        // Set initial values as needed\n    };\n    CHIP_VEC.push(chip);\n    let chip = CHIP_VEC.last().unwrap();\n\n    // TODO: Initialize the chip, set up IO pins, create timers, etc.\n\n    debugPrint(CString::new("Hello Rust Chip!").unwrap().into_raw());\n}\n',verilog:"// Wokwi Custom Chip - For docs and examples see:\n// https://docs.wokwi.com/chips-api/getting-started\n//\n// SPDX-License-Identifier: MIT\n// Copyright 2023 Author Name\n\n// Input / output names must match the pins defined in the chip's JSON file:\nmodule wokwi (\n  input wire IN,\n  output wire OUT\n  );\n\n  // put your logic here, e.g.:\n  assign OUT = ~IN;\n\nendmodule"};var J=n(46856),Z=n(86447),Y=n(29543);const $=(0,S.createContext)(new class{get chipPosition(){return this._chipPosition}get isOpen(){return this.dialogOpen}open(e){this.dialogOpen=!0,this._chipPosition=e}close(){this.dialogOpen=!1}constructor(){(0,Z._)(this,"_chipPosition",{x:0,y:0}),(0,Z._)(this,"dialogOpen",!1),(0,Y.l_)(this)}}),X=/^[a-z0-9-]+$/,Q={c:"c",rust:"rs",verilog:"v"},ee=(0,k.PA)((()=>{const[e,t]=(0,S.useState)(""),[n,r]=(0,S.useState)("c"),[o,s]=(0,S.useState)(null),l=(0,S.useContext)($),a=(0,S.useContext)(W.p),c=(0,_.A)(),d=(0,J.B)();const u=()=>{t(""),r("c"),s(null),l.close()},h=()=>{if(!e||null!=o)return;const t=Q[n];var i;const r=null!==(i=c.displayName)&&void 0!==i?i:"Author name",s="".concat(e,".chip.json");d.addFile(s,JSON.stringify({name:e,author:r,pins:["VCC","GND","IN","OUT"],controls:[]},null,2)),d.addFile("".concat(e,".chip.").concat(t),q[n].replace("Author Name",r));const{diagram:h}=d;h&&(h.addPartFromTemplate({type:"chip-".concat(e),prefix:"chip",attrs:[]},l.chipPosition),d.syncDiagram(),setTimeout((()=>{var e;null===(e=a.switchToTab)||void 0===e||e.call(a,s)}))),u()};return(0,i.jsx)(L.A,{open:l.isOpen,onClose:u,"aria-labelledby":"custom-chip-dialog-title",maxWidth:"xs",children:(0,i.jsxs)("form",{onSubmit:e=>{h(),e.preventDefault()},children:[(0,i.jsx)(K.A,{id:"custom-chip-dialog-title",children:"Create a Custom Chip"}),(0,i.jsx)(U.A,{sx:{minHeight:"96px"},children:(0,i.jsxs)(z.A,{spacing:2,children:[(0,i.jsx)(F.A,{children:(0,i.jsx)(V.A,{autoFocus:!0,margin:"dense",label:"Chip name (e.g. lcd-controller)",value:e,sx:{width:"300px"},required:!0,onChange:e=>{const{value:n}=e.target;var i;t(n),n&&s((i=n,X.test(i)?d.chipExists(i)?"A chip with this name already exists in the project.":null:"Chip name can only contain lowercase letters, numbers and dashes."))},error:null!=o,helperText:o})}),(0,i.jsxs)(F.A,{children:[(0,i.jsx)(B.A,{id:"language-radio-group",children:"Language"}),(0,i.jsxs)(I.A,{"aria-labelledby":"language-radio-group",value:n,onChange:(e,t)=>r(t),children:[(0,i.jsx)(O.A,{value:"c",control:(0,i.jsx)(R.A,{}),label:"C (recommended)"}),(0,i.jsx)(O.A,{value:"rust",control:(0,i.jsx)(R.A,{}),label:"Rust (alpha)"}),(0,i.jsx)(O.A,{value:"verilog",control:(0,i.jsx)(R.A,{}),label:"Verilog (alpha)"})]})]})]})}),(0,i.jsxs)(H.A,{children:[(0,i.jsx)(G.A,{onClick:u,children:"Cancel"}),(0,i.jsx)(G.A,{onClick:h,color:"primary",variant:"contained",disabled:!e||null!=o,children:"Create Chip"})]})]})})}));var te=n(53907),ne=n(18777),ie=n(9670);class re extends S.Component{static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?(0,i.jsxs)(x.A,{px:1,pt:8,style:{background:"black",color:"white",height:"100%"},children:[(0,i.jsx)(ie.A,{variant:"h3",children:"Error in diagram.json"}),(0,i.jsx)("p",{children:"Please fix the error and click Retry:"}),(0,i.jsx)(G.A,{onClick:()=>this.setState({hasError:!1}),color:"secondary",children:"Retry"})]}):this.props.children}constructor(...e){super(...e),(0,Z._)(this,"state",{hasError:!1})}}var oe=n(4596),se=n(97469),le=n(99662),ae=n(99180),ce=n(87479),de=n(40956),ue=n(11625),he=n(82592),pe=n(84593),me=n(94962),xe=n(69623),ge=n(41476),fe=n(50095),je=n(55592),ve=n(34152),we=n(80158),ye=n(87231),be=n(80179);const Ae=(0,k.PA)((e=>{let{onClose:t}=e;const n=(0,S.useContext)(ne.u),o=(0,S.useContext)(be.O),s=(0,J.B)(),l=(0,S.useContext)(ye.Rs),{fullScreen:a}=n,{translate:c}=(0,D.W)("diagram.menu"),{diagram:d}=s,u=d&&d.undoManager.canUndo,h=d&&d.undoManager.canRedo,p=(0,r.k)(),m="avr"===s.architecture;return(0,i.jsxs)(ge.A,{children:[!n.isEmbeddedEditor&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(fe.A,{disabled:!m,onClick:()=>{var e,n;o.start({debug:!0,debugger:!0,diagram:s.diagram,files:s.files,chips:s.chips,binaryFiles:s.binaryFiles,sdCardFiles:s.sdCardFiles,projectId:s.id,userId:l.id,orgId:l.orgId}),(0,T.G)("debugger:start",{mcu:null===(n=s.diagram)||void 0===n||null===(e=n.findMCU())||void 0===e?void 0:e.type}),t()},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(oe.A,{})}),(0,i.jsx)(ve.A,{children:c("debug","Debug (beta)")})]}),(0,i.jsx)(we.A,{})]}),n.openInTextEditor&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(fe.A,{onClick:()=>{var e;return null===(e=n.openInTextEditor)||void 0===e?void 0:e.call(n)},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(se.A,{})}),(0,i.jsx)(ve.A,{children:c("openInTextEditor","Open in text editor")})]}),(0,i.jsx)(we.A,{})]}),(0,i.jsxs)(fe.A,{disabled:!u,onClick:()=>{null==d||d.undoManager.undo(),s.syncDiagram()},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(le.A,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:c("undo","Undo")}),(0,i.jsxs)(ie.A,{variant:"body2",color:"text.secondary",children:[p,"-Z"]})]}),(0,i.jsxs)(fe.A,{disabled:!h,onClick:()=>{null==d||d.undoManager.redo(),s.syncDiagram()},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(ae.A,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:c("redo","Redo")}),(0,i.jsxs)(ie.A,{variant:"body2",color:"text.secondary",children:[p,"-Y"]})]}),(0,i.jsx)(we.A,{}),(0,i.jsxs)(fe.A,{onClick:()=>n.fit(),children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(ce.A,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:c("fit","Fit")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",children:"F"})]}),(0,i.jsxs)(fe.A,{onClick:()=>n.zoom(1.1),children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(de.A,{})}),(0,i.jsx)(ve.A,{children:c("zoomIn","Zoom in")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",children:"+"})]}),(0,i.jsxs)(fe.A,{onClick:()=>n.zoom(.9),children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(ue.A,{})}),(0,i.jsx)(ve.A,{children:c("zoomOut","Zoom out")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",children:"–"})]}),(0,i.jsx)(we.A,{}),(0,i.jsxs)(fe.A,{onClick:()=>n.toggleGrid(),children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(he.A,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:c("toggleGrid","Toggle Grid")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",children:"G"})]}),(0,i.jsxs)(fe.A,{onClick:()=>n.toggleFullScreen(),children:[(0,i.jsx)(je.A,{children:a?(0,i.jsx)(pe.A,{fontSize:"small"}):(0,i.jsx)(me.A,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:a?c("exitFullScreen","Exit full screen"):c("fullScreen","Full screen")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",sx:{marginLeft:2},children:"Alt-Enter"})]}),(0,i.jsxs)(fe.A,{onClick:()=>n.linkOpener("https://docs.wokwi.com/guides/diagram-editor"),children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(xe.default,{fontSize:"small"})}),(0,i.jsx)(ve.A,{children:c("help","Help")}),(0,i.jsx)(ie.A,{variant:"body2",color:"text.secondary",children:"?"})]})]})}));var ke=n(84092),Ce=n(19240),Se=n(60078),_e=n(70680),De=n(85852),Me=n(53537),Te=n(55398),Ee=n(77926),Pe=n(88815),Ne=n(56113),We=n(25892);function ze(){const e=(0,J.B)(),t=(0,S.useRef)(null),n=(0,S.useRef)(null),r=(0,S.useContext)(ne.u),o=(0,S.useContext)($),[s,l]=(0,S.useState)(""),{translate:a}=(0,D.W)("diagram.addPart"),c=e=>e.variant?"".concat(e.type,"-").concat(e.variant):e.type,d="logic".startsWith(s.toLowerCase())&&s.length>0,u=We.WM.map((e=>"Logic"===e.title&&d?e:{title:e.title,items:e.items.filter((e=>a(c(e),e.label).toLowerCase().includes(s.toLowerCase())))})).filter((e=>e.items.length>0)),h=t=>{const n=r.diagramSafeVisibleArea,i=e.diagram;let s;if(r.clearSelection(),i&&n){const e={x:n.left+10,y:n.top+10};for(;i.parts.find((t=>Math.abs(t.left-e.x)<Pe.jt&&Math.abs(t.top-e.y)<Pe.jt));)e.x+=Pe.jt,e.y+=Pe.jt;const t=n&&(0,Ne.GL)(n);s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)}}var l;"chip"!==t.type?i&&(i.addPartFromTemplate({type:t.type,prefix:t.prefix,attrs:null!==(l=t.attrs)&&void 0!==l?l:[]},s),e.syncDiagram()):o.open(null!=s?s:{x:0,y:0})};return(0,i.jsxs)(x.A,{minWidth:"350px",sx:{padding:2},children:[(0,i.jsx)(Ce.A,{position:"sticky",onFocus:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.focus()},children:(0,i.jsx)(Se.A,{autoFocus:!0,ref:t,value:s,onChange:e=>l(e.target.value),onClick:e=>e.stopPropagation(),sx:{width:"100%"},onKeyDown:e=>{if("Enter"===e.key){var t;const n=null===(t=u[0])||void 0===t?void 0:t.items[0];n&&(h(n),e.preventDefault())}else if("ArrowDown"===e.key||"ArrowUp"===e.key){var i;null===(i=n.current)||void 0===i||i.dispatchEvent(new KeyboardEvent(e.type,e.nativeEvent)),e.preventDefault()}},endAdornment:(0,i.jsx)(_e.A,{position:"end",children:(0,i.jsx)(ke.A,{})})})}),(0,i.jsx)(ge.A,{ref:n,children:u.map((e=>[(0,i.jsx)(De.A,{sx:{top:"27px"},children:a("category."+(0,Ee.C)(e.title),e.title)},e.title),...e.items.map((e=>(0,i.jsxs)(fe.A,{onClick:()=>h(e),children:[(0,i.jsx)(Me.A,{children:(0,i.jsx)(Te.A,{alt:"Avatar ".concat(c(e)),src:e.photo,sx:{width:50,height:50},variant:"square"})}),(0,i.jsx)(ve.A,{primary:a(c(e),e.label)})]},c(e))))]))})]})}var Fe=n(35881),Be=n(65055),Ie=n(80460),Oe=n(99136),Re=n(80910);function Ge(){return(0,i.jsxs)(ie.A,{sx:{"text-align":"center",background:"#333",color:"white",py:.5},children:["The debugger is currently in ",(0,i.jsx)("strong",{children:"beta"}),". Please report any issues"," ",(0,i.jsx)("a",{href:"https://github.com/wokwi/wokwi-features/issues/205",target:"_blank",rel:"noreferrer",style:{color:"#aaf"},children:"here"}),"."]})}const Le=(0,k.PA)((()=>{const{debuggerStore:e}=(0,S.useContext)(be.O);function t(e){if(!e)return"unknown file";if(e.includes(".arduino15/packages/arduino/hardware/avr")){const t=e.indexOf("/cores/arduino/");if(t>=0)return e.substring(t+1)}const t=e.split("/");return t[t.length-1]}return(0,i.jsxs)(x.A,{sx:{background:"black",color:"white",width:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsx)(Oe.A,{dense:!0,sx:{overflow:"auto",flex:1},children:e.callstack.map(((e,n)=>(0,i.jsx)(Re.Ay,{children:(0,i.jsx)(ve.A,{primary:"#".concat(n," ").concat(e.function,"()"),secondary:"".concat(t(e.file),":").concat(e.line)})},n)))}),(0,i.jsx)(Ge,{})]})})),He=(0,k.PA)((()=>{const{debuggerStore:e}=(0,S.useContext)(be.O),t=e.locals.length>0,n=e.globals.length>0;return(0,i.jsxs)(x.A,{sx:{background:"black",color:"white",width:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)(Oe.A,{sx:{overflow:"auto","& ul":{padding:0}},subheader:(0,i.jsx)("li",{}),dense:!0,children:[t&&(0,i.jsx)(De.A,{children:"Locals"}),e.locals.map(((e,t)=>(0,i.jsx)(Re.Ay,{children:(0,i.jsx)(ve.A,{primary:"".concat(e.type," ").concat(e.name," = ").concat(e.value)})},t))),n&&(0,i.jsx)(De.A,{children:"Globals"}),e.globals.map(((e,t)=>(0,i.jsx)(Re.Ay,{children:(0,i.jsx)(ve.A,{primary:"".concat(e.type," ").concat(e.name," = ").concat(e.value)})},t))),!t&&!n&&(0,i.jsx)(De.A,{children:"No variables"})]}),(0,i.jsx)(Ge,{})]})}));var Ue=n(25170),Ke=n(5939);const Ve=(0,Ue.A)("div")((e=>{let{theme:t}=e;return{position:"relative",height:1,cursor:"row-resize",backgroundColor:"rgba(120, 120, 120, 0.3)","&:before":{display:"block",content:'" "',position:"absolute",top:-5,width:"100%",height:"10px"},"&:after":{display:"block",content:'" "',position:"absolute",backgroundColor:t.palette.primary.light,top:-2,width:"100%",height:4,opacity:0},"&.dragging:after, &:hover:after":{opacity:1,transition:"opacity"}}}));function qe(e){let{children:t,initialSize:n,constrain:r}=e;const[o,s]=(0,S.useState)(!1),[l,a]=(0,S.useState)(n),c=(0,S.createRef)(),d=r?r(l):l;return(0,i.jsxs)(x.A,{display:"flex",flexDirection:"column",minHeight:d,flexBasis:d,children:[(0,i.jsx)(Ke.DraggableCore,{onStart:()=>s(!0),onDrag:(e,t)=>{a((e=>e-t.deltaY))},onStop:()=>s(!1),nodeRef:c,children:(0,i.jsx)(Ve,{ref:c,className:o?"dragging":""})}),t]})}var Je=n(91580),Ze=n(86817),Ye=n(49414),$e=n.n(Ye);const Xe=(0,k.PA)((e=>{let{lines:t,onClear:n}=e;const[r,s]=(0,S.useState)(!0),a=(0,S.useRef)(null),[c]=(0,S.useState)(function(){const e=(0,Ze.X)().font;return e?{fontSize:e+"px"}:{}}());(0,S.useEffect)((()=>{r&&a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[t.length,r]);return(0,i.jsxs)("div",{className:$e().serialMonitor,children:[(0,i.jsx)("div",{className:$e().monitorContainer,children:(0,i.jsx)("pre",{className:"notranslate",onScroll:e=>{const t=e.currentTarget,n=t.scrollHeight-t.scrollTop-t.clientHeight;n>32?s(!1):t.scrollTop>0&&n<1&&s(!0)},style:c,ref:a,children:t.map(((e,t)=>(0,i.jsxs)("div",{children:[(0,i.jsx)(Je.A,{label:e.chip,size:"small",color:"secondary"})," ",e.message]},t)))})}),(0,i.jsxs)(x.A,{position:"absolute",bottom:"0",right:"24px",children:[(0,i.jsx)("button",{onClick:()=>s(!r),title:"Auto scroll",children:(0,i.jsx)(l(),{path:r?o.PAd:o.H9P,size:1})}),(0,i.jsx)("button",{onClick:()=>null==n?void 0:n(),children:(0,i.jsx)(l(),{path:o.Nnn,size:1})})]})]})}));var Qe=n(90885),et=n.n(Qe),tt=n(63610),nt=n.n(tt);const it=[{strokeStyle:{g:255},lineWidth:4},{strokeStyle:{g:165,r:255},lineWidth:4},{strokeStyle:{r:255,b:255},lineWidth:4},{strokeStyle:{g:255,b:255},lineWidth:4},{strokeStyle:{g:255,r:255},lineWidth:4},{strokeStyle:{g:255,r:255,b:255},lineWidth:4}];function rt(e){var t;return{data:new Qe.TimeSeries({}),...null!==(t=it[e])&&void 0!==t?t:{}}}function ot(e){if(e.includes(":")){const t=e.split(":"),n=parseFloat(t[1]);return{label:t[0],value:n}}{const t=parseFloat(e);return isNaN(t)&&t?{label:e,value:t}:{value:t}}}function st(e){let{lines:t}=e;const[n,r]=(0,S.useState)([rt(0)]),[o,s]=(0,S.useState)([]),[l,a]=(0,S.useState)(0),c=t.length;(0,S.useEffect)((()=>{function e(e){const t=e.split(/[, \t]+/);if(!t.length)return;let i=0,l=0,a=n,c=o;for(const e of t){const{label:t,value:n}=ot(e);!isNaN(n)&&i<16&&(a[i]||(a=[...a,rt(i)]),a[i].data.append((new Date).getTime(),n),i++),t&&(c=[...c],c[l]=t,l++)}a!==n&&r(a),c!==o&&s(c)}for(let n=c>=l?l:0;n<c;n++)e(t[n]);a(c)}),[l,t,n,c,o]);return(0,i.jsx)(et(),{responsive:!0,nonRealtimeData:!0,tooltip:e=>{let{display:t,time:n,data:r}=e;return t?(0,i.jsxs)("div",{className:nt().tooltip,children:[(0,i.jsx)("strong",{children:new Date(n||0).toLocaleTimeString()}),r?(0,i.jsx)("ul",{children:r.map(((e,t)=>{var n;return(0,i.jsxs)("li",{style:{color:e.series.options.strokeStyle},children:[null!==(n=o[t])&&void 0!==n?n:1+t,": ",e.value]},t)}))}):(0,i.jsx)("div",{})]}):(0,i.jsx)("div",{})},containerStyle:{flex:1,position:"relative"},style:{height:"0",minHeight:"100%",width:"100%"},series:n})}var lt=n(36963),at=n.n(lt);const ct=(0,S.forwardRef)((function(e,t){let{onInput:r,onLoaded:o,style:s,className:l,convertEol:a}=e;const[c,d]=(0,S.useState)(),u=function(){const[e,t]=(0,S.useState)();return(0,S.useEffect)((()=>{(async()=>{t(await Promise.all([n.e(6450),n.e(1081),n.e(8008)]).then(n.bind(n,48008)))})()}),[]),e}(),h=(0,S.useRef)(null),p=(0,S.useRef)(null),m=(0,S.useRef)(o);return m.current=o,(0,S.useImperativeHandle)(t,(()=>({write(e){null==c||c.write(new Uint8Array([e]))},writeln(e){null==c||c.writeln(e)}})),[c]),(0,S.useEffect)((()=>{const e=h.current;if(u&&e){var t;const n=new u.Terminal({});n.open(e);const i=new u.FitAddon;return n.loadAddon(i),p.current=i,i.fit(),d(n),null===(t=m.current)||void 0===t||t.call(m,n),()=>{n.dispose(),d(void 0)}}}),[u]),(0,S.useEffect)((()=>{c&&(c.options.convertEol=a)}),[a,c]),(0,S.useEffect)((()=>{const e=null==c?void 0:c.onData((e=>null==r?void 0:r(e)));return()=>null==e?void 0:e.dispose()}),[c,r]),at()({ref:h.current,onResize:e=>{var t;e.height&&(null===(t=p.current)||void 0===t||t.fit())}}),(0,i.jsx)("div",{ref:h,className:l,style:s})}));function dt(e){let{onInput:t,convertEol:n}=e;const r=(0,S.useContext)(be.O),[o,s]=(0,S.useState)(null);return(0,S.useEffect)((()=>{if(o){const e=()=>{r.serial.bytesBuffer.length&&(o.write(new Uint8Array([...r.serial.bytesBuffer])),r.serial.bytesBuffer=[])};return e(),r.serial.listener=e,()=>{r.serial.listener=void 0}}}),[o,r]),(0,i.jsx)(ct,{style:{flex:1},onInput:t,onLoaded:e=>{s(e)},convertEol:n})}function ut(e){let{lines:t,buffer:n,convertEol:r,onInput:s,onClear:a,plotter:c,onTogglePlotter:d,terminal:u}=e;const[h,p]=(0,S.useState)(!0),m=(0,S.useRef)(null),[x]=(0,S.useState)(function(){const e=(0,Ze.X)().font;return e?{fontSize:e+"px"}:{}}());(0,S.useEffect)((()=>{h&&m.current&&(m.current.scrollTop=m.current.scrollHeight)}),[t.length,n,h]);const g=t.length,f=(0,S.useMemo)((()=>t.join("\n")+(g?"\n":"")),[t,g]);return u?(0,i.jsx)(dt,{onInput:s,convertEol:null!=r&&r}):(0,i.jsxs)("div",{className:$e().serialMonitor,children:[c?(0,i.jsx)("div",{className:$e().plotterContainer,children:(0,i.jsx)(st,{lines:t})}):(0,i.jsx)("div",{className:$e().monitorContainer,children:(0,i.jsxs)("pre",{className:"notranslate",onScroll:e=>{const t=e.currentTarget,n=t.scrollHeight-t.scrollTop-t.clientHeight;n>32?p(!1):t.scrollTop>0&&n<1&&p(!0)},style:x,ref:m,children:[f,n]})}),(0,i.jsxs)("div",{className:$e().serialControls,children:[(0,i.jsx)("input",{className:$e().serialInput,onKeyPress:e=>{const t=e.target;"Enter"===e.key&&t instanceof HTMLInputElement&&(null==s||s(t.value),t.value="")},onKeyDown:e=>e.stopPropagation()}),(0,i.jsx)("button",{title:"Serial plotter",onClick:d,className:(0,A.default)({[$e().active]:c}),children:(0,i.jsx)(l(),{path:o.bWS,size:1})}),(0,i.jsx)("button",{onClick:()=>p(!h),title:"Auto scroll",children:(0,i.jsx)(l(),{path:h?o.PAd:o.H9P,size:1})}),(0,i.jsx)("button",{onClick:()=>null==a?void 0:a(),children:(0,i.jsx)(l(),{path:o.Nnn,size:1})})]})]})}const ht=(0,Fe.Ay)(Be.A)({height:"32px",minHeight:"32px"}),pt=(0,Fe.Ay)(Ie.A)((e=>{let{}=e;return{height:36,minHeight:36}}));function mt(e){let{children:t,value:n,index:r}=e;return(0,i.jsx)(x.A,{id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),role:"tabpanel",sx:{flex:1,height:0,display:n==r?"flex":"none",flexDirection:"columnn"},children:t})}function xt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}const gt=(0,k.PA)((e=>{let{diagram:t}=e;const[n,r]=(0,S.useState)(0),o=(0,S.useContext)(be.O),s=o.serial.terminalMode?e=>Math.max(1+18*Math.round((e-1)/18),107):e=>Math.max(e,100),l=o.serial.terminalMode?"":t.serialLineEnding,a=[];var c;(o.paused&&o.debuggerEnabled&&(a.push({title:"Call Stack",content:(0,i.jsx)(Le,{})}),a.push({title:"Variables",content:(0,i.jsx)(He,{})})),o.serial.show)&&a.push({title:"Serial Monitor",content:(0,i.jsx)(ut,{lines:o.serial.lines,buffer:o.serial.textBuffer,plotter:o.serial.showPlotter,terminal:o.serial.terminalMode,convertEol:null===(c=t.serialMonitor)||void 0===c?void 0:c.convertEol,onClear:()=>o.serial.clearSerial(),onInput:e=>o.feedSerial(e+l),onTogglePlotter:()=>o.serial.togglePlotter()})});if(o.chipOutput.length&&a.push({title:"Chips console",content:(0,i.jsx)(Xe,{lines:o.chipOutput,onClear:()=>o.clearChipOutput()})}),!a.length)return null;const d=Math.min(n,a.length-1);return(0,i.jsxs)(qe,{initialSize:200,constrain:s,children:[a.length>1&&(0,i.jsx)(ht,{value:n,onChange:(e,t)=>{r(t)},"aria-label":"Bottom tabs",sx:{background:"black"},children:a.map(((e,t)=>(0,i.jsx)(pt,{label:e.title,...xt(t)},e.title)))}),a.map(((e,t)=>(0,i.jsx)(mt,{value:d,index:t,children:e.content},e.title)))]})}));var ft=n(18127);const jt=(0,S.createContext)(new class{openBuildFailedDialog(e){this.showBuildFailedDialog=!0,this.buildErrorMessage=e}closeBuildFailedDialog(){this.showBuildFailedDialog=!1}openBuildTimeoutDialog(){this.showBuildTimeoutDialog=!0}closeBuildTimeoutDialog(){this.showBuildTimeoutDialog=!1}openGetHelpDialog(){this.showGetHelpDialog=!0}closeGetHelpDialog(){this.showGetHelpDialog=!1}constructor(){(0,Z._)(this,"showBuildFailedDialog",!1),(0,Z._)(this,"showBuildTimeoutDialog",!1),(0,Z._)(this,"buildErrorMessage",""),(0,Z._)(this,"showGetHelpDialog",!1),(0,Y.l_)(this,{},{autoBind:!0})}}),vt=(0,Ue.A)(K.A)((e=>{let{theme:t}=e;return{background:"linear-gradient(180deg, ".concat(t.palette.primary.dark,", transparent)")}}));const wt=(0,k.PA)((()=>{const{translate:e}=(0,D.W)("simulator.buildFailedDialog"),t=(0,S.useContext)(jt),n=(0,S.useContext)(J.v),r=(0,S.useContext)(W.p),o=(0,S.useContext)(ye.Rs),s=(0,S.useMemo)((()=>function(e){const t=Array.from(e.matchAll(/fatal error: ([\w.]+): No such file or directory\r?\n/g)),n=new Set;for(const e of t){const t=ft.jM[e[1]];t&&n.add(t)}const i=t.map((e=>e[1])).join(";");return i.length>0&&(0,T.G)("getHelp:missingLibraries",{libraries:i,match:n.size>0}),Array.from(n)}(t.buildErrorMessage)),[t.buildErrorMessage]);return(0,i.jsxs)(L.A,{open:t.showBuildFailedDialog,onClose:t.closeBuildFailedDialog,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,i.jsx)(vt,{id:"form-dialog-title",children:e("title","Build failed!")}),(0,i.jsx)(U.A,{children:(0,i.jsx)("pre",{children:t.buildErrorMessage})}),(0,i.jsxs)(H.A,{children:[s.length>0?(0,i.jsx)(G.A,{color:"primary",variant:"contained",onClick:()=>{var e;(0,T.G)("getHelp:installLibraries",{project:null==n?void 0:n.id,owner:!(!(null==n?void 0:n.owner)||n.owner!==(null==o?void 0:o.id))});for(const e of s)null==n||n.libraryManager.addLibrary(e);null===(e=r.switchToTab)||void 0===e||e.call(r,"Library Manager"),t.closeBuildFailedDialog()},children:s.length>1?"Install missing libraries":'Install "'.concat(s[0],'" library')}):(0,i.jsx)(G.A,{color:"secondary",variant:"contained",onClick:()=>{(0,T.G)("getHelp:click",{project:null==n?void 0:n.id,owner:!(!(null==n?void 0:n.owner)||n.owner!==(null==o?void 0:o.id))}),t.closeBuildFailedDialog(),t.openGetHelpDialog()},children:"Get help"}),(0,i.jsx)(G.A,{variant:"contained",onClick:t.closeBuildFailedDialog,color:s.length?"inherit":void 0,children:"Close"})]})]})})),yt=(0,k.PA)((()=>{const{translate:e}=(0,D.W)("simulator.buildTimeoutDialog"),t=(0,S.useContext)(jt),n=(0,S.useContext)(ye.Rs);return(0,i.jsxs)(L.A,{open:t.showBuildTimeoutDialog,onClose:t.closeBuildTimeoutDialog,"aria-labelledby":"form-dialog-title",maxWidth:"sm",children:[(0,i.jsx)(K.A,{id:"form-dialog-title",children:n.club?"Project compilation timeout":e("title","Build Servers Busy")}),(0,i.jsx)(U.A,{children:n.club?(0,i.jsxs)(ie.A,{variant:"body1",children:["Your project compilation is taking longer than expected.",(0,i.jsx)("br",{}),"As an alternative, you can compile the project locally on your computer and use"," ",(0,i.jsx)("a",{href:"https://docs.wokwi.com/vscode/getting-started",target:"_blank",rel:"noopener noreferrer",children:"Wokwi for VS Code"})," ","for simulation."]}):(0,i.jsxs)(ie.A,{variant:"body1",children:["Your project compilation is taking longer than expected.",(0,i.jsx)("br",{}),"Perhaps our build servers are too busy right now.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),"You can try to compile the project on your computer and simulate it using"," ",(0,i.jsx)("a",{href:"https://docs.wokwi.com/vscode/getting-started",target:"_blank",children:"Wokwi for VS Code"}),", or upgrade to a paid plan to skip the build queue and get priority high-performance builds."]})}),(0,i.jsxs)(H.A,{children:[!n.club&&(0,i.jsx)(G.A,{color:"secondary",variant:"contained",href:"/pricing?ref=builds",target:"_blank",onClick:()=>{(0,T.G)("buildTimeout:upgrade"),t.closeBuildTimeoutDialog()},children:"See pricing"}),(0,i.jsx)(G.A,{variant:"contained",onClick:t.closeBuildTimeoutDialog,color:n.club?void 0:"inherit",children:"Close"})]})]})}));var bt=n(68198),At=n(53833),kt=n(55239),Ct=n(84762),St=n(67486),_t=n(78966);const Dt=(0,k.PA)((()=>{var e;const t=(0,S.useContext)(be.O),n=(0,_.A)(),r=(0,bt.J)();if(t.buildTime<1e3)return null;const o=(null==r?void 0:r.free)?Math.min(1,Math.max(0,(r.free-20)/200)):0;var s;return(0,i.jsx)(x.A,{children:(0,i.jsxs)(Ct.A,{children:[(0,i.jsx)(x.A,{color:{background:"#555",color:"white"},p:1,py:.5,children:(0,i.jsxs)(St.default,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(ie.A,{sx:{flex:1},children:"Compiling project..."}),(0,i.jsxs)(ie.A,{color:"#ccc",children:[(0,i.jsx)(At.A,{sx:{verticalAlign:"top"}}),(t.buildTime/1e3).toFixed(2),"s"]}),(0,i.jsx)(G.A,{onClick:()=>{t.abortBuild(),(0,T.G)("build:cancel",{waitTime:t.buildTime})},color:"warning",children:"Cancel"})]})}),(0,i.jsxs)(St.default,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,i.jsx)(x.A,{p:1,children:t.buildBoost?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(St.default,{direction:"row",spacing:0,alignItems:"center",mb:2,children:[(0,i.jsx)(kt.A,{sx:{color:"#ffc107",fontSize:28}}),(0,i.jsx)(ie.A,{variant:"h6",sx:{fontWeight:600},children:"Priority Build"})]}),(0,i.jsxs)(ie.A,{maxWidth:250,variant:"body1",color:"text.secondary",children:["Hooray! As a"," ",(0,i.jsx)(x.A,{component:"span",sx:{fontWeight:600},children:null!==(s=null===(e=n.bestPlan())||void 0===e?void 0:e.name)&&void 0!==s?s:"premium"})," ","user, you skipped the queue."]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ie.A,{maxWidth:250,children:"Upgrade to a paid plan to skip the build queue and compile faster."}),(0,i.jsx)(G.A,{sx:{mt:.5},variant:"outlined",href:"https://wokwi.com/pricing?ref=compiling",target:"_blank",onClick:()=>{(0,T.G)("compiling:wokwiPlansClick",{waitTime:t.buildTime})},children:"Wokwi Plans"})]})}),(0,i.jsx)(x.A,{p:1,children:(null==r?void 0:r.free)&&(0,i.jsxs)(St.default,{direction:"column",spacing:1,alignItems:"center",children:[(0,i.jsx)(_t.A,{angle:o}),(0,i.jsx)(ie.A,{variant:"subtitle2",children:"Build server load"})]})})]})]})})}));var Mt=n(44146);const Tt=(0,k.PA)((()=>{const{translate:e}=(0,D.W)("simulator.getHelpDialog"),t=(0,S.useContext)(jt),n=(0,S.useContext)(ye.Rs),r=(0,S.useContext)(J.v),s=(0,S.useRef)(null),a=(null==r?void 0:r.owner)&&r.owner===(null==n?void 0:n.id),c=!(null==r?void 0:r.id),d=["**Project Link:** https://wokwi.com/projects/".concat(null==r?void 0:r.id,"?gh=1"),"","Error message: ".concat(t.buildErrorMessage)].join("\n");return(0,i.jsxs)(L.A,{open:t.showGetHelpDialog,onClose:t.closeGetHelpDialog,"aria-labelledby":"form-dialog-title",maxWidth:"sm",children:[(0,i.jsx)(K.A,{id:"form-dialog-title",children:e("title","Get Help")}),(0,i.jsxs)(U.A,{children:[(0,i.jsxs)(ie.A,{gutterBottom:!0,children:["To get help, please join our"," ",(0,i.jsx)("a",{href:"https://wokwi.com/discord",target:"_blank",rel:"noopener noreferrer",children:"Discord Community Chat"}),", and ask for help in the ",(0,i.jsx)("b",{children:"#questions"})," channel."]}),c||!a&&r.modified?(0,i.jsxs)(ie.A,{gutterBottom:!0,children:["Important: make sure to ",(0,i.jsx)("b",{children:"save"})," the project first, and ",(0,i.jsx)("b",{children:"share the project link"})," ","along with your question."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ie.A,{gutterBottom:!0,children:["Include the following information:",(0,i.jsx)(g.A,{title:e("copyToClipboard","Copy to clipboard"),children:(0,i.jsx)(Mt.A,{onClick:e=>{var t;null===(t=s.current)||void 0===t||t.select(),document.execCommand("copy"),e.target.focus(),(0,T.G)("getHelp:copyToClipboard",{project:null==r?void 0:r.id})},sx:{verticalAlign:"sub"},children:(0,i.jsx)(l(),{path:o.ADG,size:1})})})]}),(0,i.jsx)("textarea",{style:{width:"100%",background:"#ccc"},readOnly:!0,value:d,rows:8,ref:s,onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.select()}}),r.modified&&(0,i.jsxs)(ie.A,{children:["Important: make sure to ",(0,i.jsx)("b",{children:"save"})," your project first!"]})]})]}),(0,i.jsx)(H.A,{children:(0,i.jsx)(G.A,{variant:"contained",onClick:t.closeGetHelpDialog,children:"Close"})})]})}));var Et=n(54992);const Pt=(0,k.PA)((()=>{const{translate:e}=(0,D.W)("simulator.downloadingDataDialog"),t=(0,S.useContext)(be.O),n=(0,J.B)();let r=0,o=0;for(const e of n.sdCardFiles)r+=e.size,o=e.downloading?e.progress*e.size:e.size;r||(r=1,o=1);const s=o/r*100;return(0,i.jsxs)(L.A,{open:t.showSDCardDownload,onClose:()=>t.skipSDCardDownload(),"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,i.jsx)(K.A,{id:"form-dialog-title",children:e("title","Downloading SD Card Data...")}),(0,i.jsx)(U.A,{children:(0,i.jsx)(Et.d,{value:s})}),(0,i.jsx)(H.A,{children:(0,i.jsx)(G.A,{variant:"contained",onClick:()=>t.skipSDCardDownload(),children:"Skip"})})]})}));var Nt=n(49876);function Wt(e){let{src:t}=e;const n=(0,S.useContext)(be.O),[r,o]=(0,S.useState)(!1),s=(0,S.useRef)(null),[l,a]=(0,S.useState)(null);return(0,S.useEffect)((()=>(0,Y.fm)((()=>{const e=n.lastUpdate;var t,i;r&&Object.keys(e).length&&(null===(t=l||(null===(i=s.current)||void 0===i?void 0:i.contentWindow))||void 0===t||t.postMessage({$nanos:n.lastUpdateNanos,...(0,Y.HO)(e)},"*"))})))),(0,Nt.q)("message",(e=>{const t=e.data;var n;"wokwi"===(null==t?void 0:t.app)&&("listen"===t.command&&(o(!0),(null===(n=e.source)||void 0===n?void 0:n.postMessage)&&a(e.source)))})),(0,i.jsx)("iframe",{ref:s,src:t,style:{border:"none",flex:"1"},allow:"fullscreen; microphone; midi; usb; autoplay; camera; accelerometer"})}var zt=n(54554),Ft=n.n(zt),Bt=n(35459),It=n(67179),Ot=n(21172),Rt=n(6405),Gt=n(70084),Lt=n(57919),Ht=n(60717),Ut=n(36303);function Kt(){return(0,i.jsxs)("svg",{version:"1.1",id:"wifi",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"42px",height:"42px",viewBox:"0 0 20 20",children:[(0,i.jsx)("path",{d:"M9.9,5C6.8,5,4,6.4,2.2,8.7l1.1,1.1c1.6-2,4-3.2,6.7-3.2c2.7,0,5.1,1.3,6.7,3.2l1.1-1.1   C15.8,6.4,13,5,9.9,5z",children:(0,i.jsx)("animate",{id:"four",attributeName:"fill",dur:"400ms",values:"rgb(20, 97, 188)",calcMode:"linear",begin:"three.begin+0.2s"})}),(0,i.jsx)("path",{id:"wifi2",d:"M9.9,8c-2.3,0-4.3,1.1-5.6,2.8l1.1,1.1c1-1.4,2.6-2.4,4.5-2.4c1.9,0,3.5,0.9,4.5,2.4l1.1-1.1   C14.2,9.1,12.2,8,9.9,8z",children:(0,i.jsx)("animate",{id:"three",attributeName:"fill",dur:"600ms",values:"rgb(20, 97, 188)",calcMode:"linear",begin:"two.begin+0.2s"})}),(0,i.jsx)("path",{id:"wifi1",d:"M9.9,11c-1.5,0-2.7,0.8-3.4,2l1.1,1.1c0.4-0.9,1.3-1.6,2.3-1.6s2,0.7,2.3,1.6l1.1-1.1   C12.6,11.8,11.4,11,9.9,11z",children:(0,i.jsx)("animate",{id:"two",attributeName:"fill",dur:"800ms",values:"rgb(20, 97, 188)",calcMode:"linear",begin:"one.begin+0.2s"})}),(0,i.jsx)("circle",{id:"dot",fill:"black",cx:"9.9",cy:"15.3",r:"1",children:(0,i.jsx)("animate",{id:"one",attributeName:"fill",dur:"1000ms",values:"rgb(20, 97, 188)",calcMode:"linear",begin:"0;four.end+0.1s"})})]})}var Vt=n(91476);function qt(e){let{children:t}=e;return(0,i.jsxs)(z.A,{direction:"row",marginTop:1,marginBottom:1,spacing:.5,alignItems:"center",component:"li",children:[(0,i.jsx)(Vt.default,{color:"success"}),(0,i.jsx)(ie.A,{children:t})]})}const Jt=(0,k.PA)((e=>{let{show:t,onHide:n}=e;return(0,i.jsxs)(L.A,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",maxWidth:"md",children:[(0,i.jsx)(K.A,{id:"form-dialog-title",children:"Private IoT Gateway Upgrade: Private & Powerful"}),(0,i.jsxs)(U.A,{children:[(0,i.jsx)(ie.A,{gutterBottom:!0,children:"Upgrade your WiFi simulation experience."}),(0,i.jsx)(ie.A,{gutterBottom:!0,children:"Key enhancements include:"}),(0,i.jsxs)("ul",{style:{padding:0},children:[(0,i.jsx)(qt,{children:"Seamless connection to both local and internet devices"}),(0,i.jsx)(qt,{children:"Host your own HTTP server on the simulated ESP32"}),(0,i.jsx)(qt,{children:"Enjoy faster, more reliable internet connectivity"}),(0,i.jsx)(qt,{children:"Enhanced privacy"})]})]}),(0,i.jsxs)(H.A,{children:[(0,i.jsx)(G.A,{variant:"outlined",onClick:n,sx:{margin:1},children:"Close"}),(0,i.jsx)(G.A,{variant:"contained",href:"/pricing?ref=iotgateway",target:"_blank",children:"Learn more"})]})]})}));function Zt(e){switch(null==e?void 0:e.state){case N.t.Connecting:return"Connecting to WiFi...";case N.t.Connected:return"private"===e.gatewayType||"vscode"===e.gatewayType?"WiFi: Connected to ".concat(e.ssid," (Private IoT Gateway)"):"WiFi: Connected to ".concat(e.ssid," (Public IoT Gateway)");case N.t.AccessPointNotFound:return'WiFi Error: Access point not found. Use "Wokwi-GUEST" without a password.';case N.t.GatewayError:return"WiFi Error: ".concat(e.errorMessage);default:return"WiFi: Unknown state"}}const Yt=e=>{let{status:t}=e;switch(t.state){case N.t.Connecting:return(0,i.jsx)(Kt,{});case N.t.Connected:return["private","vscode"].includes(t.gatewayType)?(0,i.jsx)(Bt.A,{}):(0,i.jsx)(It.A,{});case N.t.AccessPointNotFound:case N.t.GatewayError:return(0,i.jsx)(Ot.A,{});default:return(0,i.jsx)("span",{})}};function $t(e){return e<1024?"".concat(e," B"):e<10188.8?"".concat((e/1024).toFixed(1)," KB"):e<1048576?"".concat(Math.round(e/1024)," KB"):"".concat(e<10433331.2?(e/1048576).toFixed(1):Math.round(e/1048576)," MB")}const Xt=(0,k.PA)((()=>{const e=(0,_.A)(),t=(0,S.useContext)(be.O),{wifi:n}=t,[r,o]=(0,S.useState)(!1),s=(0,S.useRef)(null),[l,a]=(0,S.useState)(!1);if(!n)return null;const c=n.status.state;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.A,{title:Zt(n.status),children:(0,i.jsx)(f.A,{size:"small",sx:{boxShadow:0,background:"transparent"},ref:s,onClick:()=>{o(!0)},children:(0,i.jsx)(Yt,{status:n.status})})}),(0,i.jsx)(j.Ay,{open:r,anchorEl:s.current,onClose:()=>o(!1),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,i.jsxs)(ge.A,{children:[(0,i.jsxs)(z.A,{px:2,direction:"row",spacing:1,mb:1,py:1,style:{background:"#555"},children:[(0,i.jsxs)(z.A,{direction:"row",alignItems:"center",children:[(0,i.jsx)(Rt.A,{fontSize:"small"}),(0,i.jsx)(ie.A,{children:$t(n.status.txBytes)})]}),(0,i.jsxs)(z.A,{direction:"row",alignItems:"center",children:[(0,i.jsx)(Gt.A,{fontSize:"small"}),(0,i.jsxs)(ie.A,{children:[" ",$t(n.status.rxBytes)]})]}),c===N.t.Connected&&["private","vscode"].includes(n.status.gatewayType)&&(0,i.jsxs)(z.A,{direction:"row",alignItems:"center",spacing:.5,children:[(0,i.jsx)(Lt.A,{fontSize:"small"}),(0,i.jsx)(ie.A,{children:"Private"})]}),c===N.t.Connected&&"public"===n.status.gatewayType&&(0,i.jsxs)(z.A,{direction:"row",alignItems:"center",spacing:.5,children:[(0,i.jsx)(Ht.A,{fontSize:"small"}),(0,i.jsx)(ie.A,{children:"Public"})]}),c===N.t.GatewayError&&(0,i.jsxs)(z.A,{direction:"row",alignItems:"center",spacing:.5,children:[(0,i.jsx)(Ot.A,{fontSize:"small"}),(0,i.jsx)(ie.A,{children:"Error"})]})]}),"vscode"==n.status.gatewayType&&(0,i.jsxs)(fe.A,{onClick:()=>{var e;null===(e=t.wifi)||void 0===e||e.medium.downloadPcap(),o(!1)},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(Gt.A,{})}),(0,i.jsx)(ve.A,{children:"Download PCAP file"})]}),"vscode"!==n.status.gatewayType&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z.A,{px:2,mb:1,children:n.status.privateGateway?(0,i.jsx)(G.A,{onClick:()=>{n.status.setPrivateGateway(!1),alert("Private IoT Gateway disabled! Please restart the simulation to apply changes.")},children:"Disable Private Gateway"}):(0,i.jsx)(G.A,{variant:"contained",onClick:()=>{(0,Ut.$D)(e)?(n.status.setPrivateGateway(!0),alert("Private IoT Gateway enabled! Please restart the simulation to apply changes.")):a(!0)},children:"Enable Private Gateway"})}),(0,i.jsx)(we.A,{}),(0,i.jsxs)(fe.A,{onClick:()=>{var e;null===(e=t.wifi)||void 0===e||e.medium.downloadPcap(),o(!1)},children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(Gt.A,{})}),(0,i.jsx)(ve.A,{children:"Download PCAP file"})]}),(0,i.jsxs)(fe.A,{component:"a",href:"https://docs.wokwi.com/guides/esp32-wifi",target:"_blank",children:[(0,i.jsx)(je.A,{children:(0,i.jsx)(xe.default,{})}),(0,i.jsx)(ve.A,{children:"WiFi Documentation"})]})]})]})}),(0,i.jsx)(Jt,{show:l,onHide:()=>a(!1)})]})})),Qt=(0,C.default)((()=>Promise.all([n.e(8509),n.e(2390)]).then(n.bind(n,12390))),{loadableGenerated:{webpack:()=>[12390]}}),en=(0,k.PA)((e=>{const{diagram:t,files:n,className:s,disableEdit:k}=e,C=(0,S.useContext)(W.p),z=(0,S.useContext)(be.O),[F,B]=(0,S.useState)(!1),I=(0,S.useRef)(null),[O,R]=(0,S.useState)(!1),G=(0,S.useRef)(null),L=(0,J.B)(),H=(0,_.A)(),U=(0,M.W)(),K=(0,S.useContext)(ne.u),V=(0,S.useContext)(jt),{translate:q}=(0,D.W)("simulator.main"),Z=(0,S.useCallback)((()=>L.syncDiagram()),[L]);z.onBuildFailure=e=>{var t,i,r;const o=null!==(r=null===(t=n.find((e=>"sketch"===(0,P.$A)(e.name))))||void 0===t?void 0:t.name)&&void 0!==r?r:"sketch.ino";(0,T.H)({category:"build",action:"build_failure"}),(0,T.G)("build:failure",{project:L.id,modified:L.modified}),null===(i=C.goToError)||void 0===i||i.call(C),V.openBuildFailedDialog((0,E.s9)(e,o))},z.onBuildTimeout=()=>{V.openBuildTimeoutDialog()};const Y={background:v.A[600],color:"white","&:hover":{background:v.A[700]}},$={background:w.A[800],color:"white","&:hover":{background:w.A[900]}},X=()=>{if(e.onStart)return void e.onStart();const i=z.running;z.start({files:n,chips:L.chips,binaryFiles:L.binaryFiles,diagram:t,sdCardFiles:L.sdCardFiles,projectId:L.id,tempProjectId:L.tempId,userId:H.id,orgId:H.orgId,debugger:i&&z.debuggerEnabled,hp:H.club})},Q=()=>{z.paused?z.resume():z.pause()},ie=z.running?q("restart","Restart the simulation"):q("start","Start the simulation"),oe=z.paused?q("resume","Resume"):q("pause","Pause");return(0,i.jsxs)("div",{className:(0,A.default)(Ft().container,{[Ft().darkMode]:U.dark,[Ft().fullscreen]:K.fullScreen},s),onKeyDown:e=>{z.running||"A"!==e.key.toUpperCase()||F||(B(!0),e.preventDefault(),e.stopPropagation()),e.altKey&&"Enter"===e.key&&K.toggleFullScreen(),z.running?("."===e.key&&z.stop(),","===e.key&&Q()):(0,r.C7)(e)&&"Enter"===e.key&&X()},children:[(0,i.jsxs)("div",{onKeyDown:e=>e.stopPropagation(),children:[(0,i.jsx)(Pt,{}),(0,i.jsx)(wt,{}),(0,i.jsx)(yt,{}),(0,i.jsx)(Tt,{}),(0,i.jsx)(ee,{})]}),(0,i.jsxs)("div",{className:Ft().simulationControls,children:[(0,i.jsx)(x.A,{m:1,children:(0,i.jsx)(g.A,{title:ie,children:(0,i.jsx)(f.A,{onClick:X,"aria-label":ie,size:"small",sx:{backgroundColor:y.A[600],color:"white","&:hover":{backgroundColor:y.A[700]}},children:z.running?(0,i.jsx)(a.A,{}):(0,i.jsx)(c.A,{})})})}),e.showEditButton&&(0,i.jsx)(x.A,{my:1,mr:1,children:(0,i.jsx)(g.A,{title:q("editDiagram","Edit diagram"),children:(0,i.jsx)(f.A,{onClick:()=>{var t;return null===(t=e.onEditDiagramClick)||void 0===t?void 0:t.call(e)},"aria-label":q("editDiagram","Edit diagram"),size:"small",sx:$,children:(0,i.jsx)(d.A,{})})})}),(0,i.jsxs)(x.A,{my:1,mr:1,children:[!z.running&&!z.building&&!k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.A,{title:q("addNewPart","Add a new part"),children:(0,i.jsx)(f.A,{ref:I,onClick:()=>B((e=>!e)),"aria-label":q("addNewPart","Add a new part"),size:"small",sx:$,children:(0,i.jsx)(u.A,{})})}),(0,i.jsx)(j.Ay,{open:F,anchorEl:I.current,onClose:()=>B(!1),onClick:()=>B(!1),onKeyDown:e=>{"Enter"===e.key&&(B(!1),e.stopPropagation())},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(ze,{})})]}),z.building&&(0,i.jsx)(l(),{path:o.PJB,size:.8,spin:!0}),z.building&&(0,i.jsx)(Dt,{}),z.running&&(0,i.jsx)(g.A,{title:q("stopSimulation","Stop the simulation"),children:(0,i.jsx)(f.A,{onClick:()=>z.stop(),"aria-label":q("stopSimulation","Stop the simulation"),sx:Y,size:"small",children:(0,i.jsx)(h.A,{})})})]}),!z.running&&!z.building&&!k&&(0,i.jsxs)(x.A,{my:1,mr:1,children:[(0,i.jsx)(g.A,{title:q("zoomGridTooltip","Zoom, Grid, and more"),children:(0,i.jsx)(f.A,{ref:G,onClick:()=>R((e=>!e)),"aria-label":q("zoomGridTooltip","Zoom, grid, and more"),sx:Y,size:"small",children:(0,i.jsx)(p.A,{})})}),(0,i.jsx)(j.Ay,{open:O,anchorEl:G.current,onClose:()=>R(!1),anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,i.jsx)(Ae,{onClose:()=>R(!1)})})]}),z.running&&(0,i.jsx)(x.A,{my:1,mr:1,children:(0,i.jsx)(g.A,{title:oe,children:(0,i.jsx)(f.A,{onClick:Q,"aria-label":oe,size:"small",sx:z.paused?{background:b.A[500],color:"#333","&:hover":{background:b.A[600]}}:Y,children:z.paused?(0,i.jsx)(c.A,{}):(0,i.jsx)(m.A,{})})})}),z.wifi&&z.wifi.status.state!==N.t.Disconnected&&(0,i.jsx)(x.A,{my:1,mr:1,children:(0,i.jsx)(Xt,{})})]}),z.running&&(0,i.jsxs)("span",{className:Ft().simulationStatus,children:[(0,i.jsx)(l(),{path:o.Y6H,size:1}),(0,i.jsx)("span",{className:Ft().timeText,ref:e=>{z.timeElement=e}}),(0,i.jsx)(l(),{path:o.um,size:1}),(0,i.jsx)("span",{className:Ft().speedText,ref:e=>{z.speedElement=e}})]}),t.customView?(0,i.jsx)(Wt,{src:t.customView}):(0,i.jsx)(re,{children:(0,i.jsx)(te.n,{diagram:t,editMode:!z.running&&!k,onDiagramUpdated:Z,marginTop:56})}),(0,i.jsx)(gt,{diagram:t}),t.ercEnabled&&!z.running&&(0,i.jsx)("div",{className:Ft().ercBox,children:(0,i.jsx)("div",{children:(0,i.jsx)(Qt,{})})})]})}))},77926:(e,t,n)=>{"use strict";function i(e){return e.split(" ").map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("")}function r(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}n.d(t,{C:()=>i,S:()=>r})},78966:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(95155);n(12115);const r=e=>{let{angle:t}=e;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:80.717,height:41.841,viewBox:"0 0 21.356 11.07",children:(0,i.jsxs)("g",{transform:"translate(-28.106 -195.517)",children:[(0,i.jsx)("path",{d:"M38.578 195.536h.119v3.391h-.119z",style:{opacity:1,fill:"#ffc600",fillOpacity:1,strokeWidth:.133145,paintOrder:"stroke markers fill"}}),(0,i.jsx)("path",{d:"M169.236 113.909h.103v3.383h-.103z",style:{fill:"#ff2c00",fillOpacity:1,strokeWidth:.124067,paintOrder:"stroke markers fill"},transform:"rotate(42.94)"}),(0,i.jsx)("path",{d:"M35.335 203.606a25.284 25 0 0 0-7.23 17.48 25.284 25 0 0 0 .088 1.213h7.798a17.607 17.41 0 0 1-.052-.598 17.607 17.41 0 0 1 5.206-12.352z",style:{opacity:1,fill:"#759c45ff",fillOpacity:1,strokeWidth:.796121,paintOrder:"stroke markers fill"},transform:"matrix(.41334 0 0 .41334 16.488 114.702)"}),(0,i.jsx)("path",{d:"M53.749 195.566c-6.608.02-13.055 2.52-17.663 7.156-.279.28-.499.572-.751.895l5.797 5.785c.125-.157.3-.367.43-.52 3.269-3.29 7.62-5.155 12.31-5.104z",style:{opacity:1,fill:"#ffc600",fillOpacity:1,strokeWidth:.800312,paintOrder:"stroke markers fill"},transform:"matrix(.41334 0 0 .41334 16.488 114.702)"}),(0,i.jsx)("path",{d:"M72.224 203.253a25 26.514.182 0 0-17.417-7.736 25 26.514.182 0 0-1.214.08l-.068 8.178a17.41 18.464.182 0 1 .6-.05 17.41 18.464.182 0 1 12.306 5.57z",style:{fill:"#ff8e2e",fillOpacity:1,strokeWidth:.815258,paintOrder:"stroke markers fill"},transform:"matrix(.41334 0 0 .41334 16.488 114.702)"}),(0,i.jsx)("path",{d:"M72.277 203.373a26.217 25 0 0 1 7.496 17.48 26.217 25 0 0 1-.09 1.214h-8.087a18.257 17.41 0 0 0 .055-.599 18.257 17.41 0 0 0-5.399-12.352z",style:{fill:"#ff2c00",fillOpacity:1,strokeWidth:.810679,paintOrder:"stroke markers fill"},transform:"matrix(.41334 0 0 .41334 16.488 114.702)"}),(0,i.jsx)("circle",{cx:38.784,cy:206.047,r:.54,style:{opacity:1,fill:"#e6e6e6",fillOpacity:1,stroke:"none",strokeWidth:.270737,paintOrder:"stroke markers fill"}}),(0,i.jsx)("path",{transform:"rotate(".concat(180*t," 38.784 206.047)"),d:"m30.355 206.118 8.424.33.047-.712z",style:{fill:"#e6e6e6",fillOpacity:1,stroke:"none",strokeWidth:".109362px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1}})]})})}}}]);